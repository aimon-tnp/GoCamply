<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentStyleType="text/css" data-diagram-type="SEQUENCE" height="1059px" preserveAspectRatio="none" style="width:2041px;height:1059px;background:#FFFFFF;" version="1.1" viewBox="0 0 2041 1059" width="2041px" zoomAndPan="magnify"><title>Create Booking (POST)</title><defs/><g><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="162.5654" x="935.4211" y="41.3125">Create Booking (POST)</text><g><title>..javaScript..</title><rect fill="#FFFFFF" height="785.7637" style="stroke:#181818;stroke-width:1;" width="10" x="430.9199" y="165.5527"/></g><g><title>..router..</title><rect fill="#FFFFFF" height="756.4531" style="stroke:#181818;stroke-width:1;" width="10" x="759.6943" y="194.8633"/></g><g><title>..router..</title><rect fill="#FFFFFF" height="727.1426" style="stroke:#181818;stroke-width:1;" width="10" x="1007.752" y="224.1738"/></g><g><title>..middleware..</title><rect fill="#FFFFFF" height="35.3105" style="stroke:#181818;stroke-width:1;" width="10" x="1112.0161" y="253.4844"/></g><g><title>..middleware..</title><rect fill="#FFFFFF" height="35.3105" style="stroke:#181818;stroke-width:1;" width="10" x="1310.5093" y="354.416"/></g><g><title>..controllers..</title><rect fill="#FFFFFF" height="381.0371" style="stroke:#181818;stroke-width:1;" width="10" x="1465.3813" y="455.3477"/></g><g><title>..model..</title><rect fill="#FFFFFF" height="87.9316" style="stroke:#181818;stroke-width:1;" width="10" x="1743.5269" y="601.9004"/></g><g><title>..model..</title><rect fill="#FFFFFF" height="87.9316" style="stroke:#181818;stroke-width:1;" width="10" x="1743.5269" y="719.1426"/></g><g><title>..model..</title><rect fill="#FFFFFF" height="87.9316" style="stroke:#181818;stroke-width:1;" width="10" x="1843.6792" y="484.6582"/></g><g><title>..MongoDB..</title><rect fill="#FFFFFF" height="29.3105" style="stroke:#181818;stroke-width:1;" width="10" x="1981.4653" y="513.9688"/></g><g><title>..MongoDB..</title><rect fill="#FFFFFF" height="29.3105" style="stroke:#181818;stroke-width:1;" width="10" x="1981.4653" y="631.2109"/></g><g><title>..MongoDB..</title><rect fill="#FFFFFF" height="29.3105" style="stroke:#181818;stroke-width:1;" width="10" x="1981.4653" y="748.4531"/></g><g><title>Client</title><rect fill="#000000" fill-opacity="0.00000" height="826.0742" width="8" x="27.7524" y="134.2422"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5,5;" x1="31" x2="31" y1="134.2422" y2="960.3164"/></g><g><title>..javaScript..</title><rect fill="#000000" fill-opacity="0.00000" height="826.0742" width="8" x="431.9199" y="134.2422"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5,5;" x1="435.834" x2="435.834" y1="134.2422" y2="960.3164"/></g><g><title>..router..</title><rect fill="#000000" fill-opacity="0.00000" height="826.0742" width="8" x="760.6943" y="134.2422"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5,5;" x1="763.896" x2="763.896" y1="134.2422" y2="960.3164"/></g><g><title>..router..</title><rect fill="#000000" fill-opacity="0.00000" height="826.0742" width="8" x="1008.752" y="134.2422"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5,5;" x1="1012.1396" x2="1012.1396" y1="134.2422" y2="960.3164"/></g><g><title>..middleware..</title><rect fill="#000000" fill-opacity="0.00000" height="826.0742" width="8" x="1113.0161" y="134.2422"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5,5;" x1="1116.3643" x2="1116.3643" y1="134.2422" y2="960.3164"/></g><g><title>..middleware..</title><rect fill="#000000" fill-opacity="0.00000" height="826.0742" width="8" x="1311.5093" y="134.2422"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5,5;" x1="1314.9912" x2="1314.9912" y1="134.2422" y2="960.3164"/></g><g><title>..controllers..</title><rect fill="#000000" fill-opacity="0.00000" height="826.0742" width="8" x="1466.3813" y="134.2422"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5,5;" x1="1469.6553" x2="1469.6553" y1="134.2422" y2="960.3164"/></g><g><title>..model..</title><rect fill="#000000" fill-opacity="0.00000" height="826.0742" width="8" x="1744.5269" y="134.2422"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5,5;" x1="1747.8623" x2="1747.8623" y1="134.2422" y2="960.3164"/></g><g><title>..model..</title><rect fill="#000000" fill-opacity="0.00000" height="826.0742" width="8" x="1844.6792" y="134.2422"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5,5;" x1="1848.1914" x2="1848.1914" y1="134.2422" y2="960.3164"/></g><g><title>..MongoDB..</title><rect fill="#000000" fill-opacity="0.00000" height="826.0742" width="8" x="1982.4653" y="134.2422"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5,5;" x1="1985.5229" x2="1985.5229" y1="134.2422" y2="960.3164"/></g><g class="participant participant-head" data-participant="client"><rect fill="#E2E2F0" height="30.4883" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="53.5049" x="5" y="102.7539"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="39.5049" x="12" y="123.2891">Client</text></g><g class="participant participant-tail" data-participant="client"><rect fill="#E2E2F0" height="30.4883" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="53.5049" x="5" y="959.3164"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="39.5049" x="12" y="979.8516">Client</text></g><g class="participant participant-head" data-participant="server"><rect fill="#E2E2F0" height="46.9766" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="94.1719" x="388.834" y="86.2656"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="80.1719" x="395.834" y="106.8008">&#171;javaScript&#187;</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="45.8691" x="412.9854" y="123.2891">:server</text></g><g class="participant participant-tail" data-participant="server"><rect fill="#E2E2F0" height="46.9766" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="94.1719" x="388.834" y="959.3164"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="80.1719" x="395.834" y="979.8516">&#171;javaScript&#187;</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="45.8691" x="412.9854" y="996.3398">:server</text></g><g class="participant participant-head" data-participant="routerCampgrounds"><rect fill="#E2E2F0" height="46.9766" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="111.5967" x="708.896" y="86.2656"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="56.4512" x="736.4688" y="106.8008">&#171;router&#187;</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="97.5967" x="715.896" y="123.2891">:campgrounds</text></g><g class="participant participant-tail" data-participant="routerCampgrounds"><rect fill="#E2E2F0" height="46.9766" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="111.5967" x="708.896" y="959.3164"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="56.4512" x="736.4688" y="979.8516">&#171;router&#187;</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="97.5967" x="715.896" y="996.3398">:campgrounds</text></g><g class="participant participant-head" data-participant="routerBookings"><rect fill="#E2E2F0" height="46.9766" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="81.2246" x="972.1396" y="86.2656"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="56.4512" x="984.5264" y="106.8008">&#171;router&#187;</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="67.2246" x="979.1396" y="123.2891">:bookings</text></g><g class="participant participant-tail" data-participant="routerBookings"><rect fill="#E2E2F0" height="46.9766" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="81.2246" x="972.1396" y="959.3164"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="56.4512" x="984.5264" y="979.8516">&#171;router&#187;</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="67.2246" x="979.1396" y="996.3398">:bookings</text></g><g class="participant participant-head" data-participant="mwProtect"><rect fill="#E2E2F0" height="46.9766" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="107.3037" x="1063.3643" y="86.2656"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="93.3037" x="1070.3643" y="106.8008">&#171;middleware&#187;</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="53.0127" x="1090.5098" y="123.2891">:protect</text></g><g class="participant participant-tail" data-participant="mwProtect"><rect fill="#E2E2F0" height="46.9766" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="107.3037" x="1063.3643" y="959.3164"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="93.3037" x="1070.3643" y="979.8516">&#171;middleware&#187;</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="53.0127" x="1090.5098" y="996.3398">:protect</text></g><g class="participant participant-head" data-participant="mwAuthorize"><rect fill="#E2E2F0" height="46.9766" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="181.0361" x="1224.9912" y="86.2656"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="93.3037" x="1268.8574" y="106.8008">&#171;middleware&#187;</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="167.0361" x="1231.9912" y="123.2891">:authorize('admin','user')</text></g><g class="participant participant-tail" data-participant="mwAuthorize"><rect fill="#E2E2F0" height="46.9766" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="181.0361" x="1224.9912" y="959.3164"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="93.3037" x="1268.8574" y="979.8516">&#171;middleware&#187;</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="167.0361" x="1231.9912" y="996.3398">:authorize('admin','user')</text></g><g class="participant participant-head" data-participant="controllersBookings"><rect fill="#E2E2F0" height="46.9766" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="101.4521" x="1419.6553" y="86.2656"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="87.4521" x="1426.6553" y="106.8008">&#171;controllers&#187;</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="67.2246" x="1436.769" y="123.2891">:bookings</text></g><g class="participant participant-tail" data-participant="controllersBookings"><rect fill="#E2E2F0" height="46.9766" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="101.4521" x="1419.6553" y="959.3164"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="87.4521" x="1426.6553" y="979.8516">&#171;controllers&#187;</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="67.2246" x="1436.769" y="996.3398">:bookings</text></g><g class="participant participant-head" data-participant="modelBooking"><rect fill="#E2E2F0" height="46.9766" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="73.3291" x="1711.8623" y="86.2656"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="56.998" x="1720.0278" y="106.8008">&#171;model&#187;</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="59.3291" x="1718.8623" y="123.2891">:Booking</text></g><g class="participant participant-tail" data-participant="modelBooking"><rect fill="#E2E2F0" height="46.9766" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="73.3291" x="1711.8623" y="959.3164"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="56.998" x="1720.0278" y="979.8516">&#171;model&#187;</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="59.3291" x="1718.8623" y="996.3398">:Booking</text></g><g class="participant participant-head" data-participant="modelCampground"><rect fill="#E2E2F0" height="46.9766" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="106.9756" x="1795.1914" y="86.2656"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="56.998" x="1820.1802" y="106.8008">&#171;model&#187;</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="92.9756" x="1802.1914" y="123.2891">:Campground</text></g><g class="participant participant-tail" data-participant="modelCampground"><rect fill="#E2E2F0" height="46.9766" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="106.9756" x="1795.1914" y="959.3164"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="56.998" x="1820.1802" y="979.8516">&#171;model&#187;</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="92.9756" x="1802.1914" y="996.3398">:Campground</text></g><g class="participant participant-head" data-participant="BookingsDatabase"><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="79.8848" x="1943.5229" y="114.8008">&#171;MongoDB&#187;</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="67.2246" x="1949.853" y="131.2891">:bookings</text><path d="M1968.4653,65.2656 C1968.4653,55.2656 1986.4653,55.2656 1986.4653,55.2656 C1986.4653,55.2656 2004.4653,55.2656 2004.4653,65.2656 L2004.4653,91.2656 C2004.4653,101.2656 1986.4653,101.2656 1986.4653,101.2656 C1986.4653,101.2656 1968.4653,101.2656 1968.4653,91.2656 L1968.4653,65.2656" fill="#E2E2F0" style="stroke:#181818;stroke-width:0.5;"/><path d="M1968.4653,65.2656 C1968.4653,75.2656 1986.4653,75.2656 1986.4653,75.2656 C1986.4653,75.2656 2004.4653,75.2656 2004.4653,65.2656" fill="none" style="stroke:#181818;stroke-width:0.5;"/></g><g class="participant participant-tail" data-participant="BookingsDatabase"><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="79.8848" x="1943.5229" y="972.8516">&#171;MongoDB&#187;</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="67.2246" x="1949.853" y="989.3398">:bookings</text><path d="M1968.4653,1002.293 C1968.4653,992.293 1986.4653,992.293 1986.4653,992.293 C1986.4653,992.293 2004.4653,992.293 2004.4653,1002.293 L2004.4653,1028.293 C2004.4653,1038.293 1986.4653,1038.293 1986.4653,1038.293 C1986.4653,1038.293 1968.4653,1038.293 1968.4653,1028.293 L1968.4653,1002.293" fill="#E2E2F0" style="stroke:#181818;stroke-width:0.5;"/><path d="M1968.4653,1002.293 C1968.4653,1012.293 1986.4653,1012.293 1986.4653,1012.293 C1986.4653,1012.293 2004.4653,1012.293 2004.4653,1002.293" fill="none" style="stroke:#181818;stroke-width:0.5;"/></g><g><title>..javaScript..</title><rect fill="#FFFFFF" height="785.7637" style="stroke:#181818;stroke-width:1;" width="10" x="430.9199" y="165.5527"/></g><g><title>..router..</title><rect fill="#FFFFFF" height="756.4531" style="stroke:#181818;stroke-width:1;" width="10" x="759.6943" y="194.8633"/></g><g><title>..router..</title><rect fill="#FFFFFF" height="727.1426" style="stroke:#181818;stroke-width:1;" width="10" x="1007.752" y="224.1738"/></g><g><title>..middleware..</title><rect fill="#FFFFFF" height="35.3105" style="stroke:#181818;stroke-width:1;" width="10" x="1112.0161" y="253.4844"/></g><g><title>..middleware..</title><rect fill="#FFFFFF" height="35.3105" style="stroke:#181818;stroke-width:1;" width="10" x="1310.5093" y="354.416"/></g><g><title>..controllers..</title><rect fill="#FFFFFF" height="381.0371" style="stroke:#181818;stroke-width:1;" width="10" x="1465.3813" y="455.3477"/></g><g><title>..model..</title><rect fill="#FFFFFF" height="87.9316" style="stroke:#181818;stroke-width:1;" width="10" x="1743.5269" y="601.9004"/></g><g><title>..model..</title><rect fill="#FFFFFF" height="87.9316" style="stroke:#181818;stroke-width:1;" width="10" x="1743.5269" y="719.1426"/></g><g><title>..model..</title><rect fill="#FFFFFF" height="87.9316" style="stroke:#181818;stroke-width:1;" width="10" x="1843.6792" y="484.6582"/></g><g><title>..MongoDB..</title><rect fill="#FFFFFF" height="29.3105" style="stroke:#181818;stroke-width:1;" width="10" x="1981.4653" y="513.9688"/></g><g><title>..MongoDB..</title><rect fill="#FFFFFF" height="29.3105" style="stroke:#181818;stroke-width:1;" width="10" x="1981.4653" y="631.2109"/></g><g><title>..MongoDB..</title><rect fill="#FFFFFF" height="29.3105" style="stroke:#181818;stroke-width:1;" width="10" x="1981.4653" y="748.4531"/></g><g class="message" data-participant-1="client" data-participant-2="server"><polygon fill="#181818" points="418.9199,161.5527,428.9199,165.5527,418.9199,169.5527,422.9199,165.5527" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="31.7524" x2="424.9199" y1="165.5527" y2="165.5527"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="380.1675" x="38.7524" y="160.8105">req.post('/api/v1/campgrounds/{campgroundId}/bookings')</text></g><g class="message" data-participant-1="server" data-participant-2="routerCampgrounds"><polygon fill="#181818" points="747.6943,190.8633,757.6943,194.8633,747.6943,198.8633,751.6943,194.8633" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="440.9199" x2="753.6943" y1="194.8633" y2="194.8633"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="299.7744" x="447.9199" y="190.1211">app.use('/api/v1/campgrounds', campgrounds)</text></g><g class="message" data-participant-1="routerCampgrounds" data-participant-2="routerBookings"><polygon fill="#181818" points="995.752,220.1738,1005.752,224.1738,995.752,228.1738,999.752,224.1738" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="769.6943" x2="1001.752" y1="224.1738" y2="224.1738"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="219.0576" x="776.6943" y="219.4316">mount '/:campgroundId/bookings'</text></g><g class="message" data-participant-1="routerBookings" data-participant-2="mwProtect"><polygon fill="#181818" points="1100.0161,249.4844,1110.0161,253.4844,1100.0161,257.4844,1104.0161,253.4844" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="1017.752" x2="1106.0161" y1="253.4844" y2="253.4844"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="74.312" x="1024.752" y="248.7422">protect(req)</text></g><g class="message" data-participant-1="mwProtect" data-participant-2="mwProtect"><line style="stroke:#181818;stroke-width:1;" x1="1122.0161" x2="1164.0161" y1="287.7949" y2="287.7949"/><line style="stroke:#181818;stroke-width:1;" x1="1164.0161" x2="1164.0161" y1="287.7949" y2="300.7949"/><line style="stroke:#181818;stroke-width:1;" x1="1117.0161" x2="1164.0161" y1="300.7949" y2="300.7949"/><polygon fill="#181818" points="1127.0161,296.7949,1117.0161,300.7949,1127.0161,304.7949,1123.0161,300.7949" style="stroke:#181818;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="164.4932" x="1129.0161" y="283.0527">verify token / set req.user</text></g><g class="message" data-participant-1="mwProtect" data-participant-2="routerBookings"><polygon fill="#181818" points="1028.752,321.1055,1018.752,325.1055,1028.752,329.1055,1024.752,325.1055" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;stroke-dasharray:2,2;" x1="1022.752" x2="1116.0161" y1="325.1055" y2="325.1055"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="36.6006" x="1034.752" y="320.3633">next()</text></g><g class="message" data-participant-1="routerBookings" data-participant-2="mwAuthorize"><polygon fill="#181818" points="1298.5093,350.416,1308.5093,354.416,1298.5093,358.416,1302.5093,354.416" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="1017.752" x2="1304.5093" y1="354.416" y2="354.416"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="180.1909" x="1024.752" y="349.6738">authorize('admin','user')(req)</text></g><g class="message" data-participant-1="mwAuthorize" data-participant-2="mwAuthorize"><line style="stroke:#181818;stroke-width:1;" x1="1320.5093" x2="1362.5093" y1="388.7266" y2="388.7266"/><line style="stroke:#181818;stroke-width:1;" x1="1362.5093" x2="1362.5093" y1="388.7266" y2="401.7266"/><line style="stroke:#181818;stroke-width:1;" x1="1315.5093" x2="1362.5093" y1="401.7266" y2="401.7266"/><polygon fill="#181818" points="1325.5093,397.7266,1315.5093,401.7266,1325.5093,405.7266,1321.5093,401.7266" style="stroke:#181818;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="120.8721" x="1327.5093" y="383.9844">check req.user.role</text></g><g class="message" data-participant-1="mwAuthorize" data-participant-2="routerBookings"><polygon fill="#181818" points="1028.752,422.0371,1018.752,426.0371,1028.752,430.0371,1024.752,426.0371" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;stroke-dasharray:2,2;" x1="1022.752" x2="1314.5093" y1="426.0371" y2="426.0371"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="109.9414" x="1034.752" y="421.2949">next() (if allowed)</text></g><g class="message" data-participant-1="routerBookings" data-participant-2="controllersBookings"><polygon fill="#181818" points="1453.3813,451.3477,1463.3813,455.3477,1453.3813,459.3477,1457.3813,455.3477" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="1017.752" x2="1459.3813" y1="455.3477" y2="455.3477"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="103.7207" x="1024.752" y="450.6055">addBooking(req)</text></g><g class="message" data-participant-1="controllersBookings" data-participant-2="modelCampground"><polygon fill="#181818" points="1831.6792,480.6582,1841.6792,484.6582,1831.6792,488.6582,1835.6792,484.6582" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="1475.3813" x2="1837.6792" y1="484.6582" y2="484.6582"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="226.8462" x="1482.3813" y="479.916">findById(req.params.campgroundId)</text></g><g class="message" data-participant-1="modelCampground" data-participant-2="BookingsDatabase"><polygon fill="#181818" points="1969.4653,509.9688,1979.4653,513.9688,1969.4653,517.9688,1973.4653,513.9688" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="1853.6792" x2="1975.4653" y1="513.9688" y2="513.9688"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="108.7861" x="1860.6792" y="509.2266">find campground</text></g><g class="message" data-participant-1="BookingsDatabase" data-participant-2="modelCampground"><polygon fill="#181818" points="1864.6792,539.2793,1854.6792,543.2793,1864.6792,547.2793,1860.6792,543.2793" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;stroke-dasharray:2,2;" x1="1858.6792" x2="1985.4653" y1="543.2793" y2="543.2793"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="79.8853" x="1870.6792" y="538.5371">campground</text></g><g class="message" data-participant-1="modelCampground" data-participant-2="controllersBookings"><polygon fill="#181818" points="1486.3813,568.5898,1476.3813,572.5898,1486.3813,576.5898,1482.3813,572.5898" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;stroke-dasharray:2,2;" x1="1480.3813" x2="1847.6792" y1="572.5898" y2="572.5898"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="79.8853" x="1492.3813" y="567.8477">campground</text></g><g class="message" data-participant-1="controllersBookings" data-participant-2="modelBooking"><polygon fill="#181818" points="1731.5269,597.9004,1741.5269,601.9004,1731.5269,605.9004,1735.5269,601.9004" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="1475.3813" x2="1737.5269" y1="601.9004" y2="601.9004"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="153.5752" x="1482.3813" y="597.1582">find({ user: req.user.id })</text></g><g class="message" data-participant-1="modelBooking" data-participant-2="BookingsDatabase"><polygon fill="#181818" points="1969.4653,627.2109,1979.4653,631.2109,1969.4653,635.2109,1973.4653,631.2109" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="1753.5269" x2="1975.4653" y1="631.2109" y2="631.2109"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="152.5342" x="1760.5269" y="626.4688">query existing bookings</text></g><g class="message" data-participant-1="BookingsDatabase" data-participant-2="modelBooking"><polygon fill="#181818" points="1764.5269,656.5215,1754.5269,660.5215,1764.5269,664.5215,1760.5269,660.5215" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;stroke-dasharray:2,2;" x1="1758.5269" x2="1985.4653" y1="660.5215" y2="660.5215"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="103.4922" x="1770.5269" y="655.7793">existedBookings</text></g><g class="message" data-participant-1="modelBooking" data-participant-2="controllersBookings"><polygon fill="#181818" points="1486.3813,685.832,1476.3813,689.832,1486.3813,693.832,1482.3813,689.832" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;stroke-dasharray:2,2;" x1="1480.3813" x2="1747.5269" y1="689.832" y2="689.832"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="103.4922" x="1492.3813" y="685.0898">existedBookings</text></g><g class="message" data-participant-1="controllersBookings" data-participant-2="modelBooking"><polygon fill="#181818" points="1731.5269,715.1426,1741.5269,719.1426,1731.5269,723.1426,1735.5269,719.1426" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="1475.3813" x2="1737.5269" y1="719.1426" y2="719.1426"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="249.1455" x="1482.3813" y="714.4004">create(req.body with user,campground)</text></g><g class="message" data-participant-1="modelBooking" data-participant-2="BookingsDatabase"><polygon fill="#181818" points="1969.4653,744.4531,1979.4653,748.4531,1969.4653,752.4531,1973.4653,748.4531" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="1753.5269" x2="1975.4653" y1="748.4531" y2="748.4531"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="93.5962" x="1760.5269" y="743.7109">Booking.create</text></g><g class="message" data-participant-1="BookingsDatabase" data-participant-2="modelBooking"><polygon fill="#181818" points="1764.5269,773.7637,1754.5269,777.7637,1764.5269,781.7637,1760.5269,777.7637" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;stroke-dasharray:2,2;" x1="1758.5269" x2="1985.4653" y1="777.7637" y2="777.7637"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="51.6826" x="1770.5269" y="773.0215">booking</text></g><g class="message" data-participant-1="modelBooking" data-participant-2="controllersBookings"><polygon fill="#181818" points="1486.3813,803.0742,1476.3813,807.0742,1486.3813,811.0742,1482.3813,807.0742" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;stroke-dasharray:2,2;" x1="1480.3813" x2="1747.5269" y1="807.0742" y2="807.0742"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="51.6826" x="1492.3813" y="802.332">booking</text></g><g class="message" data-participant-1="controllersBookings" data-participant-2="client"><polygon fill="#181818" points="42.7524,832.3848,32.7524,836.3848,42.7524,840.3848,38.7524,836.3848" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="36.7524" x2="1469.3813" y1="836.3848" y2="836.3848"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="284.6289" x="48.7524" y="831.6426">response 200 { success: true, data: booking }</text></g><path d="M1180,849.3848 L1180,874.3848 L1449,874.3848 L1449,859.3848 L1439,849.3848 L1180,849.3848" fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><path d="M1439,849.3848 L1439,859.3848 L1449,859.3848 L1439,849.3848" fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="248.2124" x="1186" y="866.9531">If user is not allowed -&gt; 403 forbidden</text><path d="M1355,884.6953 L1355,909.6953 L1585,909.6953 L1585,894.6953 L1575,884.6953 L1355,884.6953" fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><path d="M1575,884.6953 L1575,894.6953 L1585,894.6953 L1575,884.6953" fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="209.4917" x="1361" y="902.2637">If campground not found -&gt; 404</text><path d="M1371,920.0059 L1371,945.0059 L1569,945.0059 L1569,930.0059 L1559,920.0059 L1371,920.0059" fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><path d="M1559,920.0059 L1559,930.0059 L1569,930.0059 L1559,920.0059" fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="177.0298" x="1377" y="937.5742">If user reached limit -&gt; 400</text><text fill="#888888" font-family="sans-serif" font-size="10" lengthAdjust="spacing" textLength="142.9004" x="1890.5073" y="14.668">GoCamply Sequence Diagram</text><text fill="#888888" font-family="sans-serif" font-size="10" lengthAdjust="spacing" textLength="54.8145" x="989.2966" y="1048.9609">Page 1 of 1</text><!--SRC=[dLN1Rjim3BthAuW2XHqqZhEj9wC8iBR0qCEm0jrn5yMY4wssv4fAiwpelq-MxDYndIpR9OWalgVtI8fU8sMeu8kyeqMPx-09NpOeKeHxJbUA5YIJqjY0Hxf2k2pjxoN832vpgerR4SDDZd1nfv0QX5ifdxbOGVZuxUdxv8AGaYh3KrvIOMnGpb6O2w0QKlVtyFZcvYTzfK-fugLPB7w8HADwHUNY_Tz-l98Rgyx5fjR0ogu5qmxWZ-xQtHFOfLVT1TP61gY2CvRZbYfqo5BPzAJUKh5zzAk_OEZ6hANYlp4CA2ku2AR1njeB9ZNBv-QypvDAOPJCSrHwABjpU5IxP9WxP1tXBwnswutZY3QHBQZT8umQkgGQAz1NALRo_dOeiT5rNmSJuhiWMlZgmjLL0WfVPgNK9WnYMlBuzKFSgMpyrYuUs7lSq0SJuYcYnQ3kZfMMvSmcUPGqc49dDI53XcZHwmh7MTX30q6ST3MraaWFOads7UBmTU-4rl64j4S7SL6KWBN5inqO-Om2OliIZ4jIrJDTs51a1HRuouIJKItxFlCPEjQLZRusl8UkhadNc3xlPSri8-8Xv9Gw27a6DC_b5jcOr97Mzf8PgzTUurXSfVMmLnqquuBTxXvOwDgDsacdPzqoMiCzb2Ngz- -UgTC_P10KZKXmAMinOy9lekX_OCrbpI1k98PlK5KcQMl46RpNDflWOnxjDq7j07znRQgmfiLFUDqpMiKEXsm_bKww_LVWcD_KVOjSQPUIxM3BpTgvdxR9EzDvlJdpb6SQhlDplj5JWAh_tPHqaGfrAOMz-EDy3c-WDscAMYTWr0QdK4tXFHky4oBiR01PZTREOqpW8NFf0Ax1HZHFhxhgUlu9CgcMzek5eWCVKUPeseGwfgnvAjVpwpFGJeJDh9qU379USEEnS_87]--></g></svg>