<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentStyleType="text/css" data-diagram-type="SEQUENCE" height="919px" preserveAspectRatio="none" style="width:1586px;height:919px;background:#FFFFFF;" version="1.1" viewBox="0 0 1586 919" width="1586px" zoomAndPan="magnify"><title>Update Booking (PUT)</title><defs/><g><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="157.6709" x="710.4063" y="41.3125">Update Booking (PUT)</text><g><title>..javaScript..</title><rect fill="#FFFFFF" height="646.2109" style="stroke:#181818;stroke-width:1;" width="10" x="251.1733" y="165.5527"/></g><g><title>..router..</title><rect fill="#FFFFFF" height="616.9004" style="stroke:#181818;stroke-width:1;" width="10" x="523.5425" y="194.8633"/></g><g><title>..middleware..</title><rect fill="#FFFFFF" height="35.3105" style="stroke:#181818;stroke-width:1;" width="10" x="627.8066" y="224.1738"/></g><g><title>..middleware..</title><rect fill="#FFFFFF" height="35.3105" style="stroke:#181818;stroke-width:1;" width="10" x="826.2998" y="325.1055"/></g><g><title>..controllers..</title><rect fill="#FFFFFF" height="385.7266" style="stroke:#181818;stroke-width:1;" width="10" x="981.1719" y="426.0371"/></g><g><title>..controllers..</title><rect fill="#FFFFFF" height="151.5527" style="stroke:#181818;stroke-width:1;" width="10" x="986.1719" y="580.5898"/></g><g><title>..model..</title><rect fill="#FFFFFF" height="87.9316" style="stroke:#181818;stroke-width:1;" width="10" x="1389.6646" y="455.3477"/></g><g><title>..model..</title><rect fill="#FFFFFF" height="87.9316" style="stroke:#181818;stroke-width:1;" width="10" x="1389.6646" y="614.9004"/></g><g><title>..MongoDB..</title><rect fill="#FFFFFF" height="29.3105" style="stroke:#181818;stroke-width:1;" width="10" x="1526.541" y="484.6582"/></g><g><title>..MongoDB..</title><rect fill="#FFFFFF" height="29.3105" style="stroke:#181818;stroke-width:1;" width="10" x="1526.541" y="644.2109"/></g><g><title>Client</title><rect fill="#000000" fill-opacity="0.00000" height="686.5215" width="8" x="27.7524" y="134.2422"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5,5;" x1="31" x2="31" y1="134.2422" y2="820.7637"/></g><g><title>..javaScript..</title><rect fill="#000000" fill-opacity="0.00000" height="686.5215" width="8" x="252.1733" y="134.2422"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5,5;" x1="256.0874" x2="256.0874" y1="134.2422" y2="820.7637"/></g><g><title>..router..</title><rect fill="#000000" fill-opacity="0.00000" height="686.5215" width="8" x="524.5425" y="134.2422"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5,5;" x1="527.9302" x2="527.9302" y1="134.2422" y2="820.7637"/></g><g><title>..middleware..</title><rect fill="#000000" fill-opacity="0.00000" height="686.5215" width="8" x="628.8066" y="134.2422"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5,5;" x1="632.1548" x2="632.1548" y1="134.2422" y2="820.7637"/></g><g><title>..middleware..</title><rect fill="#000000" fill-opacity="0.00000" height="686.5215" width="8" x="827.2998" y="134.2422"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5,5;" x1="830.7817" x2="830.7817" y1="134.2422" y2="820.7637"/></g><g><title>..controllers..</title><rect fill="#000000" fill-opacity="0.00000" height="686.5215" width="8" x="982.1719" y="134.2422"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5,5;" x1="985.4458" x2="985.4458" y1="134.2422" y2="820.7637"/></g><g><title>..model..</title><rect fill="#000000" fill-opacity="0.00000" height="686.5215" width="8" x="1390.6646" y="134.2422"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5,5;" x1="1394" x2="1394" y1="134.2422" y2="820.7637"/></g><g><title>..MongoDB..</title><rect fill="#000000" fill-opacity="0.00000" height="686.5215" width="8" x="1527.541" y="134.2422"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5,5;" x1="1530.5986" x2="1530.5986" y1="134.2422" y2="820.7637"/></g><g class="participant participant-head" data-participant="client"><rect fill="#E2E2F0" height="30.4883" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="53.5049" x="5" y="102.7539"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="39.5049" x="12" y="123.2891">Client</text></g><g class="participant participant-tail" data-participant="client"><rect fill="#E2E2F0" height="30.4883" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="53.5049" x="5" y="819.7637"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="39.5049" x="12" y="840.2988">Client</text></g><g class="participant participant-head" data-participant="server"><rect fill="#E2E2F0" height="46.9766" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="94.1719" x="209.0874" y="86.2656"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="80.1719" x="216.0874" y="106.8008">&#171;javaScript&#187;</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="45.8691" x="233.2388" y="123.2891">:server</text></g><g class="participant participant-tail" data-participant="server"><rect fill="#E2E2F0" height="46.9766" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="94.1719" x="209.0874" y="819.7637"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="80.1719" x="216.0874" y="840.2988">&#171;javaScript&#187;</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="45.8691" x="233.2388" y="856.7871">:server</text></g><g class="participant participant-head" data-participant="routerBookings"><rect fill="#E2E2F0" height="46.9766" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="81.2246" x="487.9302" y="86.2656"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="56.4512" x="500.3169" y="106.8008">&#171;router&#187;</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="67.2246" x="494.9302" y="123.2891">:bookings</text></g><g class="participant participant-tail" data-participant="routerBookings"><rect fill="#E2E2F0" height="46.9766" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="81.2246" x="487.9302" y="819.7637"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="56.4512" x="500.3169" y="840.2988">&#171;router&#187;</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="67.2246" x="494.9302" y="856.7871">:bookings</text></g><g class="participant participant-head" data-participant="mwProtect"><rect fill="#E2E2F0" height="46.9766" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="107.3037" x="579.1548" y="86.2656"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="93.3037" x="586.1548" y="106.8008">&#171;middleware&#187;</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="53.0127" x="606.3003" y="123.2891">:protect</text></g><g class="participant participant-tail" data-participant="mwProtect"><rect fill="#E2E2F0" height="46.9766" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="107.3037" x="579.1548" y="819.7637"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="93.3037" x="586.1548" y="840.2988">&#171;middleware&#187;</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="53.0127" x="606.3003" y="856.7871">:protect</text></g><g class="participant participant-head" data-participant="mwAuthorize"><rect fill="#E2E2F0" height="46.9766" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="181.0361" x="740.7817" y="86.2656"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="93.3037" x="784.6479" y="106.8008">&#171;middleware&#187;</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="167.0361" x="747.7817" y="123.2891">:authorize('admin','user')</text></g><g class="participant participant-tail" data-participant="mwAuthorize"><rect fill="#E2E2F0" height="46.9766" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="181.0361" x="740.7817" y="819.7637"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="93.3037" x="784.6479" y="840.2988">&#171;middleware&#187;</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="167.0361" x="747.7817" y="856.7871">:authorize('admin','user')</text></g><g class="participant participant-head" data-participant="controllersBookings"><rect fill="#E2E2F0" height="46.9766" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="101.4521" x="935.4458" y="86.2656"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="87.4521" x="942.4458" y="106.8008">&#171;controllers&#187;</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="67.2246" x="952.5596" y="123.2891">:bookings</text></g><g class="participant participant-tail" data-participant="controllersBookings"><rect fill="#E2E2F0" height="46.9766" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="101.4521" x="935.4458" y="819.7637"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="87.4521" x="942.4458" y="840.2988">&#171;controllers&#187;</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="67.2246" x="952.5596" y="856.7871">:bookings</text></g><g class="participant participant-head" data-participant="modelBooking"><rect fill="#E2E2F0" height="46.9766" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="73.3291" x="1358" y="86.2656"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="56.998" x="1366.1655" y="106.8008">&#171;model&#187;</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="59.3291" x="1365" y="123.2891">:Booking</text></g><g class="participant participant-tail" data-participant="modelBooking"><rect fill="#E2E2F0" height="46.9766" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="73.3291" x="1358" y="819.7637"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="56.998" x="1366.1655" y="840.2988">&#171;model&#187;</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="59.3291" x="1365" y="856.7871">:Booking</text></g><g class="participant participant-head" data-participant="BookingsDatabase"><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="79.8848" x="1488.5986" y="114.8008">&#171;MongoDB&#187;</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="67.2246" x="1494.9287" y="131.2891">:bookings</text><path d="M1513.541,65.2656 C1513.541,55.2656 1531.541,55.2656 1531.541,55.2656 C1531.541,55.2656 1549.541,55.2656 1549.541,65.2656 L1549.541,91.2656 C1549.541,101.2656 1531.541,101.2656 1531.541,101.2656 C1531.541,101.2656 1513.541,101.2656 1513.541,91.2656 L1513.541,65.2656" fill="#E2E2F0" style="stroke:#181818;stroke-width:0.5;"/><path d="M1513.541,65.2656 C1513.541,75.2656 1531.541,75.2656 1531.541,75.2656 C1531.541,75.2656 1549.541,75.2656 1549.541,65.2656" fill="none" style="stroke:#181818;stroke-width:0.5;"/></g><g class="participant participant-tail" data-participant="BookingsDatabase"><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="79.8848" x="1488.5986" y="833.2988">&#171;MongoDB&#187;</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="67.2246" x="1494.9287" y="849.7871">:bookings</text><path d="M1513.541,862.7402 C1513.541,852.7402 1531.541,852.7402 1531.541,852.7402 C1531.541,852.7402 1549.541,852.7402 1549.541,862.7402 L1549.541,888.7402 C1549.541,898.7402 1531.541,898.7402 1531.541,898.7402 C1531.541,898.7402 1513.541,898.7402 1513.541,888.7402 L1513.541,862.7402" fill="#E2E2F0" style="stroke:#181818;stroke-width:0.5;"/><path d="M1513.541,862.7402 C1513.541,872.7402 1531.541,872.7402 1531.541,872.7402 C1531.541,872.7402 1549.541,872.7402 1549.541,862.7402" fill="none" style="stroke:#181818;stroke-width:0.5;"/></g><g><title>..javaScript..</title><rect fill="#FFFFFF" height="646.2109" style="stroke:#181818;stroke-width:1;" width="10" x="251.1733" y="165.5527"/></g><g><title>..router..</title><rect fill="#FFFFFF" height="616.9004" style="stroke:#181818;stroke-width:1;" width="10" x="523.5425" y="194.8633"/></g><g><title>..middleware..</title><rect fill="#FFFFFF" height="35.3105" style="stroke:#181818;stroke-width:1;" width="10" x="627.8066" y="224.1738"/></g><g><title>..middleware..</title><rect fill="#FFFFFF" height="35.3105" style="stroke:#181818;stroke-width:1;" width="10" x="826.2998" y="325.1055"/></g><g><title>..controllers..</title><rect fill="#FFFFFF" height="385.7266" style="stroke:#181818;stroke-width:1;" width="10" x="981.1719" y="426.0371"/></g><g><title>..controllers..</title><rect fill="#FFFFFF" height="151.5527" style="stroke:#181818;stroke-width:1;" width="10" x="986.1719" y="580.5898"/></g><g><title>..model..</title><rect fill="#FFFFFF" height="87.9316" style="stroke:#181818;stroke-width:1;" width="10" x="1389.6646" y="455.3477"/></g><g><title>..model..</title><rect fill="#FFFFFF" height="87.9316" style="stroke:#181818;stroke-width:1;" width="10" x="1389.6646" y="614.9004"/></g><g><title>..MongoDB..</title><rect fill="#FFFFFF" height="29.3105" style="stroke:#181818;stroke-width:1;" width="10" x="1526.541" y="484.6582"/></g><g><title>..MongoDB..</title><rect fill="#FFFFFF" height="29.3105" style="stroke:#181818;stroke-width:1;" width="10" x="1526.541" y="644.2109"/></g><g class="message" data-participant-1="client" data-participant-2="server"><polygon fill="#181818" points="239.1733,161.5527,249.1733,165.5527,239.1733,169.5527,243.1733,165.5527" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="31.7524" x2="245.1733" y1="165.5527" y2="165.5527"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="200.4209" x="38.7524" y="160.8105">req.put('/api/v1/bookings/{id}')</text></g><g class="message" data-participant-1="server" data-participant-2="routerBookings"><polygon fill="#181818" points="511.5425,190.8633,521.5425,194.8633,511.5425,198.8633,515.5425,194.8633" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="261.1733" x2="517.5425" y1="194.8633" y2="194.8633"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="243.3691" x="268.1733" y="190.1211">app.use('/api/v1/bookings', bookings)</text></g><g class="message" data-participant-1="routerBookings" data-participant-2="mwProtect"><polygon fill="#181818" points="615.8066,220.1738,625.8066,224.1738,615.8066,228.1738,619.8066,224.1738" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="533.5425" x2="621.8066" y1="224.1738" y2="224.1738"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="74.312" x="540.5425" y="219.4316">protect(req)</text></g><g class="message" data-participant-1="mwProtect" data-participant-2="mwProtect"><line style="stroke:#181818;stroke-width:1;" x1="637.8066" x2="679.8066" y1="258.4844" y2="258.4844"/><line style="stroke:#181818;stroke-width:1;" x1="679.8066" x2="679.8066" y1="258.4844" y2="271.4844"/><line style="stroke:#181818;stroke-width:1;" x1="632.8066" x2="679.8066" y1="271.4844" y2="271.4844"/><polygon fill="#181818" points="642.8066,267.4844,632.8066,271.4844,642.8066,275.4844,638.8066,271.4844" style="stroke:#181818;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="164.4932" x="644.8066" y="253.7422">verify token / set req.user</text></g><g class="message" data-participant-1="mwProtect" data-participant-2="routerBookings"><polygon fill="#181818" points="544.5425,291.7949,534.5425,295.7949,544.5425,299.7949,540.5425,295.7949" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;stroke-dasharray:2,2;" x1="538.5425" x2="631.8066" y1="295.7949" y2="295.7949"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="36.6006" x="550.5425" y="291.0527">next()</text></g><g class="message" data-participant-1="routerBookings" data-participant-2="mwAuthorize"><polygon fill="#181818" points="814.2998,321.1055,824.2998,325.1055,814.2998,329.1055,818.2998,325.1055" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="533.5425" x2="820.2998" y1="325.1055" y2="325.1055"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="180.1909" x="540.5425" y="320.3633">authorize('admin','user')(req)</text></g><g class="message" data-participant-1="mwAuthorize" data-participant-2="mwAuthorize"><line style="stroke:#181818;stroke-width:1;" x1="836.2998" x2="878.2998" y1="359.416" y2="359.416"/><line style="stroke:#181818;stroke-width:1;" x1="878.2998" x2="878.2998" y1="359.416" y2="372.416"/><line style="stroke:#181818;stroke-width:1;" x1="831.2998" x2="878.2998" y1="372.416" y2="372.416"/><polygon fill="#181818" points="841.2998,368.416,831.2998,372.416,841.2998,376.416,837.2998,372.416" style="stroke:#181818;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="120.8721" x="843.2998" y="354.6738">check req.user.role</text></g><g class="message" data-participant-1="mwAuthorize" data-participant-2="routerBookings"><polygon fill="#181818" points="544.5425,392.7266,534.5425,396.7266,544.5425,400.7266,540.5425,396.7266" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;stroke-dasharray:2,2;" x1="538.5425" x2="830.2998" y1="396.7266" y2="396.7266"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="109.9414" x="550.5425" y="391.9844">next() (if allowed)</text></g><g class="message" data-participant-1="routerBookings" data-participant-2="controllersBookings"><polygon fill="#181818" points="969.1719,422.0371,979.1719,426.0371,969.1719,430.0371,973.1719,426.0371" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="533.5425" x2="975.1719" y1="426.0371" y2="426.0371"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="123.8936" x="540.5425" y="421.2949">updateBooking(req)</text></g><g class="message" data-participant-1="controllersBookings" data-participant-2="modelBooking"><polygon fill="#181818" points="1377.6646,451.3477,1387.6646,455.3477,1377.6646,459.3477,1381.6646,455.3477" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="991.1719" x2="1383.6646" y1="455.3477" y2="455.3477"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="146.9736" x="998.1719" y="450.6055">findById(req.params.id)</text></g><g class="message" data-participant-1="modelBooking" data-participant-2="BookingsDatabase"><polygon fill="#181818" points="1514.541,480.6582,1524.541,484.6582,1514.541,488.6582,1518.541,484.6582" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="1399.6646" x2="1520.541" y1="484.6582" y2="484.6582"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="80.5835" x="1406.6646" y="479.916">find booking</text></g><g class="message" data-participant-1="BookingsDatabase" data-participant-2="modelBooking"><polygon fill="#181818" points="1410.6646,509.9688,1400.6646,513.9688,1410.6646,517.9688,1406.6646,513.9688" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;stroke-dasharray:2,2;" x1="1404.6646" x2="1530.541" y1="513.9688" y2="513.9688"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="51.6826" x="1416.6646" y="509.2266">booking</text></g><g class="message" data-participant-1="modelBooking" data-participant-2="controllersBookings"><polygon fill="#181818" points="1002.1719,539.2793,992.1719,543.2793,1002.1719,547.2793,998.1719,543.2793" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;stroke-dasharray:2,2;" x1="996.1719" x2="1393.6646" y1="543.2793" y2="543.2793"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="51.6826" x="1008.1719" y="538.5371">booking</text></g><g class="message" data-participant-1="controllersBookings" data-participant-2="controllersBookings"><line style="stroke:#181818;stroke-width:1;" x1="991.1719" x2="1038.1719" y1="567.5898" y2="567.5898"/><line style="stroke:#181818;stroke-width:1;" x1="1038.1719" x2="1038.1719" y1="567.5898" y2="580.5898"/><line style="stroke:#181818;stroke-width:1;" x1="997.1719" x2="1038.1719" y1="580.5898" y2="580.5898"/><polygon fill="#181818" points="1007.1719,576.5898,997.1719,580.5898,1007.1719,584.5898,1003.1719,580.5898" style="stroke:#181818;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="374.4927" x="1003.1719" y="562.8477">check ownership (booking.user === req.user.id) OR admin</text></g><g class="message" data-participant-1="controllersBookings" data-participant-2="modelBooking"><polygon fill="#181818" points="1377.6646,610.9004,1387.6646,614.9004,1377.6646,618.9004,1381.6646,614.9004" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="996.1719" x2="1383.6646" y1="614.9004" y2="614.9004"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="281.0742" x="1003.1719" y="610.1582">findByIdAndUpdate(req.params.id, req.body)</text></g><g class="message" data-participant-1="modelBooking" data-participant-2="BookingsDatabase"><polygon fill="#181818" points="1514.541,640.2109,1524.541,644.2109,1514.541,648.2109,1518.541,644.2109" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="1399.6646" x2="1520.541" y1="644.2109" y2="644.2109"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="99.5122" x="1406.6646" y="639.4688">update booking</text></g><g class="message" data-participant-1="BookingsDatabase" data-participant-2="modelBooking"><polygon fill="#181818" points="1410.6646,669.5215,1400.6646,673.5215,1410.6646,677.5215,1406.6646,673.5215" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;stroke-dasharray:2,2;" x1="1404.6646" x2="1530.541" y1="673.5215" y2="673.5215"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="102.8765" x="1416.6646" y="668.7793">updatedBooking</text></g><g class="message" data-participant-1="modelBooking" data-participant-2="controllersBookings"><polygon fill="#181818" points="1007.1719,698.832,997.1719,702.832,1007.1719,706.832,1003.1719,702.832" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;stroke-dasharray:2,2;" x1="1001.1719" x2="1393.6646" y1="702.832" y2="702.832"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="102.8765" x="1013.1719" y="698.0898">updatedBooking</text></g><g class="message" data-participant-1="controllersBookings" data-participant-2="client"><polygon fill="#181818" points="42.7524,728.1426,32.7524,732.1426,42.7524,736.1426,38.7524,732.1426" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="36.7524" x2="980.1719" y1="732.1426" y2="732.1426"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="335.8228" x="48.7524" y="727.4004">response 200 { success: true, data: updatedBooking }</text></g><path d="M819,745.1426 L819,770.1426 L1151,770.1426 L1151,755.1426 L1141,745.1426 L819,745.1426" fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><path d="M1141,745.1426 L1141,755.1426 L1151,755.1426 L1141,745.1426" fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="311.416" x="825" y="762.7109">If not owner and not admin -&gt; 401 unauthorized</text><path d="M851,780.4531 L851,805.4531 L1119,805.4531 L1119,790.4531 L1109,780.4531 L851,780.4531" fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><path d="M1109,780.4531 L1109,790.4531 L1119,790.4531 L1109,780.4531" fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="247.5142" x="857" y="798.0215">If booking not found -&gt; 404 not found</text><text fill="#888888" font-family="sans-serif" font-size="10" lengthAdjust="spacing" textLength="142.9004" x="1435.583" y="14.668">GoCamply Sequence Diagram</text><text fill="#888888" font-family="sans-serif" font-size="10" lengthAdjust="spacing" textLength="54.8145" x="761.8345" y="909.4082">Page 1 of 1</text><!--SRC=[bLHTRzem57tthxX2GWag0Jhr2G5IATBKXsdLkhxjnSGtu15irt5WhEf_dsCdV8IqWvV8iSyvz_WUsqka33LybGzqhT8TFEDhZY96c76wq7HD4YcD1JpH1K9RsMyRP0Bjb6R6_H73JOhGUb6C6eIfb2ik5X0-lVpij0XHL1iUSqM5WTP3ob6O5j0COZSyNHwDVjCDVOurLsOo-IM66UeDQeVtmpfUozoQSzYvBvmvj9yllMHrrfepbkAMQdHCfUqEOszhlNtoV__XqDmifUP_CGmeMtCHT8FSMWmwfSfzjLxNYQKmMgOfwkpSzj7YXzubmzGnIuGlMCoM4yJcGESqmmB-JOg5d4tFIrNwin9CY4yaclXEmytD43I-zbHkmg1F5UzlRlkLHF-Di_UWGpmscfpsst6fKZtRadDkq8Lgs24rOZGv9E1Kocn2wwH33aidk2WQWdN1anqOkK81VNjQZ3DVP79CixnwHKiM-CU4pLxsEVezVPHwvUy0hx6BCl4IuzNULiy6ZQUKpzn1o1EWQIgto9giDXmTPpbtrxASyZQRe8NTepFag0aNRBfxPA4x1jG-1bcFs-8dG4ki7wKzkSgPd26YUhrYenMwoTyeYguZVD8IduFS2hkmv0h2KiV50kFn-92HtIvy_m4kxAlxTY-OVnHF6zXrydF9TXUsqaTuPJCzYKslxUa5lAArxgrm18sPaiBQ-38Om1jaUHnZbWt1w1oxKBn5TL5u9qJO2mcoU6SQAWpXCG6By1a1jIUf-7Cf5DNl1hUGY_rbP1UebSrpEedChQBJkJjCa7y0]--></g></svg>